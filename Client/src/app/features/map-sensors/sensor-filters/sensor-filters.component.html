<div class="sensor-filters">
  <h3>{{ 'USER.SENSORS.FILTERS.TITLE' | translate }}</h3>

  <div class="filter-metrics">
    <div class="filter-metric-item" *ngFor="let metricType of sensorMetricTypes">
      <label class="checkbox-container">
        <input type="checkbox" [checked]="isMetricEnabled(metricType)" #checkboxInput
          (change)="toggleMetric(metricType, checkboxInput.checked)">
        <span class="checkmark"></span>
        <span class="metric-label">
          <i *ngIf="sensorMetricsConfig[metricType].icon" [class]="sensorMetricsConfig[metricType].icon"></i>
          {{ sensorMetricsConfig[metricType].label | translate }} ({{ sensorMetricsConfig[metricType].unit }})
        </span>
      </label>
    </div>
  </div>

  <div class="filter-status">
    <h4>{{ 'USER.SENSORS.FILTERS.STATUS' | translate }}</h4>
    <div class="status-options">
      <label class="radio-container">
        <input type="radio" name="statusFilter" value="all" [(ngModel)]="filter.status" (change)="applyFilters()">
        <span class="radio-mark"></span>
        <span>{{ 'USER.SENSORS.FILTERS.STATUS_ALL' | translate }}</span>
      </label>
      <label class="radio-container">
        <input type="radio" name="statusFilter" value="active" [(ngModel)]="filter.status" (change)="applyFilters()">
        <span class="radio-mark"></span>
        <span>{{ 'USER.SENSORS.FILTERS.STATUS_ACTIVE' | translate }}</span>
      </label>
      <label class="radio-container">
        <input type="radio" name="statusFilter" value="inactive" [(ngModel)]="filter.status" (change)="applyFilters()">
        <span class="radio-mark"></span>
        <span>{{ 'USER.SENSORS.FILTERS.STATUS_INACTIVE' | translate }}</span>
      </label>
    </div>
  </div>

  <div class="filter-actions">
    <app-button [label]="'USER.SENSORS.FILTERS.APPLY' | translate" (onClick)="applyFilters()" severity="primary">
    </app-button>

    <app-button [label]="'USER.SENSORS.FILTERS.RESET' | translate" (onClick)="onResetFilters()" severity="secondary">
    </app-button>

    <app-button [label]="'USER.SENSORS.FILTERS.USE_MY_LOCATION' | translate" (onClick)="onUseCurrentLocation()"
      severity="success" icon="pi pi-map-marker"></app-button>
  </div>
</div>
